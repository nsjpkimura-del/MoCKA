# =========================
# MoCKA public repo policy
# =========================

# ---- OS noise
desktop.ini
Thumbs.db

# ---- python cache
__pycache__/
*.pyc

# ---- venv
.venv/
venv/
.wsl_ots_venv/

# ---- runtime artifacts
*.log
*.lock
*.json.sig

# ---- secrets / keys
secrets/
keys/private/
governance/keys/
*.pem
*.key
*.pfx
*.p12

# ---- local databases
*.db
*.sqlite

# ---- operational outputs (keep out of public layer)
outbox/
backup/
audit/
acceptance/
inventory/
infield/
governance/propagation/*.log

# =========================
# Allowlist exceptions
# =========================
# Track only the Phase1 AI Save container (tools + specs + plans)
!infield/
!infield/ai_save/
!infield/ai_save/bin/
!infield/ai_save/specs/
!infield/ai_save/plans/

# Never commit operational AI Save data
infield/ai_save/items/
infield/ai_save/index.csv
infield/ai_save/decisions/decisions.csv
# =========================
# local-only artifacts (observed)
# =========================
_dump_key_metadata.py
dump_db.py
execution.lock.json
last_event_id
last_event_id.txt

_untracked_stash_*/
calc/
governance_phase16_upgrade/
governance/drafts/
governance/infield/calc/

# backups
*.bak_*
*.bak

# local copies / experiments
memory/
app/

# large working trees kept private
src/

# historical backups
main_loop.py.bak_*
verify_full_chain_and_signature.py.bak_*
keys/public_keys.json.bak_*

# NOTE: Phase2 container (public-safe) allowlist
!infield/ai_save/phase2/
!infield/ai_save/phase2/*.ps1
!infield/ai_save/phase2/*.md
!infield/ai_save/phase2/*.json

# NOTE: Phase2 runtime artifacts must stay local
infield/ai_save/phase2/*.csv
infield/ai_save/phase2/outbox.*
infield/ai_save/phase2/manifest.*

!infield/ai_save/phase2/outbox.manifest.chain.csv.asc

